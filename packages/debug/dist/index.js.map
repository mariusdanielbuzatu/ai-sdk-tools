{"version":3,"sources":["../src/index.ts"],"sourcesContent":["const isDebugEnabled = process.env.DEBUG_AGENTS === 'true';\r\n\r\n// ANSI color codes for terminal output\r\nconst colors = {\r\n  reset: '\\x1b[0m',\r\n  gray: '\\x1b[90m',\r\n  blue: '\\x1b[34m',\r\n  cyan: '\\x1b[36m',\r\n  yellow: '\\x1b[33m',\r\n  red: '\\x1b[31m',\r\n  green: '\\x1b[32m',\r\n  magenta: '\\x1b[35m',\r\n};\r\n\r\n// Format timestamp\r\nconst timestamp = () => new Date().toISOString().slice(11, 23);\r\n\r\n// Create category-scoped logger with clean API\r\nexport function createLogger(category: string) {\r\n  if (!isDebugEnabled) {\r\n    // Return no-op functions when debug is disabled\r\n    return {\r\n      debug: () => {},\r\n      info: () => {},\r\n      warn: () => {},\r\n      error: () => {},\r\n    };\r\n  }\r\n\r\n  return {\r\n    debug: (message: string, data?: any) => {\r\n      const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n      const level = `${colors.blue}DEBUG${colors.reset}`;\r\n      const cat = `${colors.cyan}[${category}]${colors.reset}`;\r\n      const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n      console.log(`${ts} ${level} ${cat} ${message}${dataStr}`);\r\n    },\r\n    info: (message: string, data?: any) => {\r\n      const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n      const level = `${colors.green}INFO${colors.reset}`;\r\n      const cat = `${colors.cyan}[${category}]${colors.reset}`;\r\n      const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n      console.log(`${ts} ${level} ${cat} ${message}${dataStr}`);\r\n    },\r\n    warn: (message: string, data?: any) => {\r\n      const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n      const level = `${colors.yellow}WARN${colors.reset}`;\r\n      const cat = `${colors.cyan}[${category}]${colors.reset}`;\r\n      const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n      console.warn(`${ts} ${level} ${cat} ${message}${dataStr}`);\r\n    },\r\n    error: (message: string, data?: any) => {\r\n      const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n      const level = `${colors.red}ERROR${colors.reset}`;\r\n      const cat = `${colors.cyan}[${category}]${colors.reset}`;\r\n      const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n      console.error(`${ts} ${level} ${cat} ${message}${dataStr}`);\r\n    },\r\n  };\r\n}\r\n\r\n// Export a base logger for backward compatibility\r\nexport const logger = {\r\n  debug: (message: string, data?: any) => {\r\n    if (!isDebugEnabled) return;\r\n    const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n    const level = `${colors.blue}DEBUG${colors.reset}`;\r\n    const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n    console.log(`${ts} ${level} ${message}${dataStr}`);\r\n  },\r\n  info: (message: string, data?: any) => {\r\n    if (!isDebugEnabled) return;\r\n    const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n    const level = `${colors.green}INFO${colors.reset}`;\r\n    const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n    console.log(`${ts} ${level} ${message}${dataStr}`);\r\n  },\r\n  warn: (message: string, data?: any) => {\r\n    if (!isDebugEnabled) return;\r\n    const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n    const level = `${colors.yellow}WARN${colors.reset}`;\r\n    const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n    console.warn(`${ts} ${level} ${message}${dataStr}`);\r\n  },\r\n  error: (message: string, data?: any) => {\r\n    if (!isDebugEnabled) return;\r\n    const ts = `${colors.gray}[${timestamp()}]${colors.reset}`;\r\n    const level = `${colors.red}ERROR${colors.reset}`;\r\n    const dataStr = data ? ` ${colors.gray}${JSON.stringify(data)}${colors.reset}` : '';\r\n    console.error(`${ts} ${level} ${message}${dataStr}`);\r\n  },\r\n};\r\n\r\n"],"mappings":"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","names":[]}